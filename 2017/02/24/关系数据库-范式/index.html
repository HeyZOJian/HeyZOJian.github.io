<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>关系数据理论 | Hexo</title>
  <meta name="author" content="John Doe">
  
  <meta name="description" content="一.问题的提出1.数据冗余导致的问题
冗余存储: 信息被重复存储
更新异常: 当重复信息的一个副本被修改时,要对所有副本进行同样的修改
插入异常: 只有当一些信息事先已经存放在数据库中时,另外一些信息才能存入数据库中
删除异常: 删除某些信息时可能丢失其他信息

2.模式分解导致的问题
有损分解: ">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="关系数据理论"/>
  <meta property="og:site_name" content="Hexo"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-70812759-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?9fe8cb2deab9dc59dccf858801029c7e";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Hexo</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> 关系数据理论</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <a id="more"></a>
<h2 id="一-问题的提出"><a href="#一-问题的提出" class="headerlink" title="一.问题的提出"></a>一.问题的提出</h2><h3 id="1-数据冗余导致的问题"><a href="#1-数据冗余导致的问题" class="headerlink" title="1.数据冗余导致的问题"></a>1.数据冗余导致的问题</h3><ol>
<li>冗余存储: 信息被重复存储</li>
<li>更新异常: 当重复信息的一个副本被修改时,要对所有副本进行同样的修改</li>
<li>插入异常: 只有当一些信息事先已经存放在数据库中时,另外一些信息才能存入数据库中</li>
<li>删除异常: 删除某些信息时可能丢失其他信息</li>
</ol>
<h3 id="2-模式分解导致的问题"><a href="#2-模式分解导致的问题" class="headerlink" title="2.模式分解导致的问题"></a>2.模式分解导致的问题</h3><ol>
<li>有损分解: 通过连接分解后的较小关系不能完全还原被分解关系的所有实例</li>
<li>依赖丢失: 部分属性之间的依赖丢失</li>
</ol>
<h2 id="二-函数依赖的定义"><a href="#二-函数依赖的定义" class="headerlink" title="二.函数依赖的定义"></a>二.函数依赖的定义</h2><h3 id="1-函数依赖"><a href="#1-函数依赖" class="headerlink" title="1.函数依赖"></a>1.函数依赖</h3><blockquote>
<p>关系模式中属性之间存在的一种约束关系</p>
</blockquote>
<p>设r(R)为关系模式,α⊆R,γ⊆R,对任意合法关系r及其中任意两个元祖t<sub>i</sub>和t<sub>j</sub>,i≠j,若t<sub>i</sub>[α]=t<sub>j</sub>[α],则t<sub>i</sub>[γ]=t<sub>j</sub>[γ],则称α函数确定γ,或γ函数依赖于α,记作α→γ<br>简单来说就像函数y=f(x),x唯一确定y<br><img src="http://okc9ihakz.bkt.clouddn.com/%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96.png" alt="函数依赖"></p>
<h3 id="2-平凡与非平凡函数依赖"><a href="#2-平凡与非平凡函数依赖" class="headerlink" title="2.平凡与非平凡函数依赖"></a>2.平凡与非平凡函数依赖</h3><p><strong>非平凡函数依赖</strong>:若α→γ,但γ不是α的真子集,则称α→γ是非平凡函数依赖<br><img src="http://okc9ihakz.bkt.clouddn.com/%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96.png" alt="函数依赖"><br><strong>平凡函数依赖</strong>:如γ是α的真子集,则称α→γ是平凡函数依赖<br><img src="http://okc9ihakz.bkt.clouddn.com/%E5%B9%B3%E5%87%A1%E4%BE%9D%E8%B5%96.png" alt="平凡函数依赖"></p>
<h3 id="3-完全函数依赖和部分函数依赖"><a href="#3-完全函数依赖和部分函数依赖" class="headerlink" title="3.完全函数依赖和部分函数依赖"></a>3.完全函数依赖和部分函数依赖</h3><blockquote>
<p>对于任意γ⊂α,γ→β都不成立,则称α→β是完全函数依赖,否则称部分函数依赖</p>
</blockquote>
<p>部分函数依赖<br><img src="http://okc9ihakz.bkt.clouddn.com/%E9%83%A8%E5%88%86%E4%BE%9D%E8%B5%96.png" alt="部分函数依赖"></p>
<h3 id="4-传递函数依赖"><a href="#4-传递函数依赖" class="headerlink" title="4.传递函数依赖"></a>4.传递函数依赖</h3><blockquote>
<p>若α→β,β→γ,则必存在函数依赖α→γ</p>
</blockquote>
<p><img src="http://okc9ihakz.bkt.clouddn.com/%E4%BC%A0%E9%80%92%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96.png" alt="传递函数依赖"></p>
<h2 id="三-范式"><a href="#三-范式" class="headerlink" title="三.范式"></a>三.范式</h2><blockquote>
<p>基于函数依赖理论,关系模式可分成第一范式(1NF),第二范式(2NF),第三范式(3NF)和Boyce-Codd范式</p>
</blockquote>
<h3 id="1-目标"><a href="#1-目标" class="headerlink" title="1.目标"></a>1.目标</h3><ol>
<li>减少数据冗余</li>
<li>消除异常（插入异常，更新异常，删除异常）</li>
</ol>
<h3 id="2-第一范式-码"><a href="#2-第一范式-码" class="headerlink" title="2.第一范式-码"></a>2.第一范式-码</h3><p><strong>每个属性都不可再分</strong></p>
<table>
<thead>
<tr>
<th>学号</th>
<th>姓名</th>
<th>系名</th>
<th>系主任</th>
<th>课名</th>
<th>分数</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h4 id="出现的问题"><a href="#出现的问题" class="headerlink" title="出现的问题"></a>出现的问题</h4><p> <strong>1.插入异常</strong>：当出现新的系时，无法单独地添加系名与系主任的数据到数据表中<br> <strong>2.更新异常</strong>：当某个学生转系时，需要将与该学生有关的记录一起修改<br> <strong>3.删除异常</strong>：当某个系的所有学生删除时，该系也不复存在（一个系所有学生都没有了，并不表示这个系就没有了）<br> <strong>4.数据冗余</strong>：每一名学生的学号、姓名、系名、系主任这些数据重复多次</p>
<h3 id="3-第二范式-全部是码"><a href="#3-第二范式-全部是码" class="headerlink" title="3.第二范式-全部是码"></a>3.第二范式-全部是码</h3><p><strong>消除非主属性对码的部分函数依赖</strong><br><strong>简单的说，是表中的属性必须完全依赖于全部主键，而不是部分主键</strong></p>
<p><strong>判断是否符合2NF的方法</strong><br>上表为例</p>
<ol>
<li>确定码（学号，课名）</li>
<li>确定非主属性（系名，系主任，课名，分数）</li>
<li>查看是否存在非主属性对码的部分函数依赖{<br>对于<strong>（学号，课名） → 姓名</strong>，有 <strong>学号 → 姓名</strong>，存在非主属性 姓名 对码（学号，课名）的部分函数依赖。<br>对于<strong>（学号，课名） → 系名</strong>，有 <strong>学号 → 系名</strong>，存在非主属性 系名 对码（学号，课名）的部分函数依赖。<br>对于<strong>（学号，课名） → 系主任</strong>，有<strong>学号 → 系主任</strong>，存在非主属性 对码（学号，课名）的部分函数依赖。<br>}</li>
</ol>
<p>所以该表只符合1NF,不符合2NF</p>
<h4 id="模式分解"><a href="#模式分解" class="headerlink" title="模式分解"></a>模式分解</h4><p>将上述表拆分成两个表</p>
<table>
<thead>
<tr>
<th>学号</th>
<th>姓名</th>
<th>系名 </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>码：（学号，姓名）</p>
<table>
<thead>
<tr>
<th>学号</th>
<th>姓名</th>
<th>系名</th>
<th>系主任</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>码：（学号）因为码只有一个属性，所以不可能存在非主属性对于码 的部分函数依赖，所以此表符合2NF的要求</p>
<h4 id="出现的问题-1"><a href="#出现的问题-1" class="headerlink" title="出现的问题"></a>出现的问题</h4><p><strong>1.删除异常</strong>：删除某个系中所有的学生记录，该系的信息仍然全部丢失<br><strong>2.插入异常</strong>：无法插入一个尚无学生的新系的信息。因为学生表的码是学号，不能为空，所以此操作不被允许</p>
<h3 id="4-第三范式-仅仅是码"><a href="#4-第三范式-仅仅是码" class="headerlink" title="4.第三范式-仅仅是码"></a>4.第三范式-仅仅是码</h3><p><strong>消除了非主属性对于码的传递函数依赖</strong></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>作者：刘慰<br>链接：<a href="https://www.zhihu.com/question/24696366/answer/29189700" target="_blank" rel="external">https://www.zhihu.com/question/24696366/answer/29189700</a><br>来源：知乎</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2017/03/08/浅析匈牙利算法/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> 上一页</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2017/02/23/LeetCode486-Predict-the-Winner/" type="button" class="btn btn-default ">下一页<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">留言</h2>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2017-02-24 
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/review/">review<span>2</span></a></li> <li><a href="/tags/数据库/">数据库<span>3</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2018 John Doe
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
